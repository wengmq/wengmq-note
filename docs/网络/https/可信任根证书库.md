### 什么是可信任根证书库

在连接一个 HTTPS 网站的时候，服务器会发送证书链，但光有证书链，客户端是不能完成证书校验的，必须有一张根证书才能迭代完成签名认证，也就是说客户端必须信任根证书才能构建信任基础，那么根证书在哪儿呢？

- 在 windows 平台中，微软有专门的根证书库。
- 在 Linux 平台中，软件和服务一般使用 NSS 根证书库。
- 在苹果平台中，也有专门的根证书库。

各个 CA 机构为了开展业务，必须申请将自己的根证书嵌入到各个平台中，如果申请被拒绝，CA 机构将无法开展业务。

在开源软件领域，NSS 根证书库是最流行的，所以很多软件和服务会使用 NSS 根证书库，原因何在？关键就在于透明性，NSS 在审核方面做的很严格，坚决杜绝非法 CA 根证书的存在。

对于普通用户和开发者来说，一般情况下接触不到可信任根证书库，但是有些情况下，也有可能希望更新本地的可信任根证书库，比如：

（1）在开发环境中应该避免使用线上证书，因为证书和私钥一起保存，由于开发环境比较混乱，容易泄露私钥，从而带来安全风险。

在这种情况下，可以生成一张自签名证书，由于浏览器不信任该证书，访问网站的时候总会提示安全风险，为了避免频繁的提示，可以手动将证书添加到浏览器的可信任根证书库中。

（2）企业内部构建一个私有 CA，然后给自己的业务签发证书，这种情况很常见，比如一些内部管理系统完全可以使用自签发的证书，减少证书申请成本，为避免员工访问的时候提示安全风险，可以将证书添加到浏览器的可信任根证书库中。

